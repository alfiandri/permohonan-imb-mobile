{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createAxios = exports.PUT = exports.POST = exports.PATCH = exports.GET = exports.DELETE = void 0;\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _asyncStorage = _interopRequireDefault(require(\"@react-native-async-storage/async-storage\"));\nvar _axios = _interopRequireDefault(require(\"axios\"));\nvar _reactNative = require(\"react-native\");\nvar _reactNativeDeviceInfo = _interopRequireDefault(require(\"react-native-device-info\"));\nvar _env = require(\"../../env\");\nvar _handleResponse = require(\"./handleResponse\");\nvar createAxios = function () {\n  var _ref = (0, _asyncToGenerator2.default)(function* () {\n    var token = yield _asyncStorage.default.getItem(_env.STORAGEKEYS.authToken);\n    var os = _reactNative.Platform.OS;\n    var os_name = _reactNativeDeviceInfo.default.getSystemName();\n    var os_version = _reactNativeDeviceInfo.default.getSystemVersion();\n    var mobile_version = _reactNativeDeviceInfo.default.getVersion();\n    var mobile_hardware = yield _reactNativeDeviceInfo.default.getHardware();\n    var globalConfig = {\n      baseURL: _env.ENDPOINT,\n      params: {\n        os: os,\n        os_name: os_name,\n        os_version: os_version,\n        mobile_version: mobile_version,\n        mobile_hardware: mobile_hardware\n      },\n      headers: {\n        Accept: 'application/json',\n        Authorization: \"Bearer \" + token\n      },\n      maxContentLength: 50 * 1000 * 1000,\n      timeout: 60000\n    };\n    return _axios.default.create(globalConfig);\n  });\n  return function createAxios() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexports.createAxios = createAxios;\nvar GET = function GET(_ref2) {\n  var url = _ref2.url,\n    params = _ref2.params,\n    any = _ref2.any;\n  return new Promise(function () {\n    var _ref3 = (0, _asyncToGenerator2.default)(function* (resolve, reject) {\n      console.log(url + \" with params \" + JSON.stringify(params));\n      try {\n        var api = yield createAxios();\n        var res = yield api.get(url, Object.assign({\n          params: params\n        }, any));\n        yield (0, _handleResponse.HandleSuccessResponse)(res).then(resolve).catch(reject);\n      } catch (error) {\n        yield (0, _handleResponse.HandleErrorResponse)(error).then(resolve).catch(reject);\n      }\n    });\n    return function (_x, _x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n};\nexports.GET = GET;\nvar POST = function POST(_ref4) {\n  var url = _ref4.url,\n    body = _ref4.body,\n    any = _ref4.any;\n  return new Promise(function () {\n    var _ref5 = (0, _asyncToGenerator2.default)(function* (resolve, reject) {\n      console.log(url + \" with body \" + JSON.stringify(body));\n      try {\n        var api = yield createAxios();\n        var res = yield api.post(url, body);\n        yield (0, _handleResponse.HandleSuccessResponse)(res).then(resolve).catch(reject);\n      } catch (error) {\n        yield (0, _handleResponse.HandleErrorResponse)(error).then(resolve).catch(reject);\n      }\n    });\n    return function (_x3, _x4) {\n      return _ref5.apply(this, arguments);\n    };\n  }());\n};\nexports.POST = POST;\nvar PUT = function PUT(_ref6) {\n  var url = _ref6.url,\n    body = _ref6.body,\n    any = _ref6.any;\n  return new Promise(function () {\n    var _ref7 = (0, _asyncToGenerator2.default)(function* (resolve, reject) {\n      console.log(url + \" with body \" + JSON.stringify(body));\n      try {\n        var api = yield createAxios();\n        var res = yield api.put(url, body, any);\n        yield (0, _handleResponse.HandleSuccessResponse)(res).then(resolve).catch(reject);\n      } catch (error) {\n        yield (0, _handleResponse.HandleErrorResponse)(error).then(resolve).catch(reject);\n      }\n    });\n    return function (_x5, _x6) {\n      return _ref7.apply(this, arguments);\n    };\n  }());\n};\nexports.PUT = PUT;\nvar PATCH = function PATCH(_ref8) {\n  var url = _ref8.url,\n    body = _ref8.body,\n    any = _ref8.any;\n  return new Promise(function () {\n    var _ref9 = (0, _asyncToGenerator2.default)(function* (resolve, reject) {\n      console.log(url + \" with body \" + JSON.stringify(body));\n      try {\n        var api = yield createAxios();\n        var res = yield api.patch(url, body, any);\n        yield (0, _handleResponse.HandleSuccessResponse)(res).then(resolve).catch(reject);\n      } catch (error) {\n        yield (0, _handleResponse.HandleErrorResponse)(error).then(resolve).catch(reject);\n      }\n    });\n    return function (_x7, _x8) {\n      return _ref9.apply(this, arguments);\n    };\n  }());\n};\nexports.PATCH = PATCH;\nvar DELETE = function DELETE(_ref10) {\n  var url = _ref10.url,\n    params = _ref10.params,\n    any = _ref10.any;\n  return new Promise(function () {\n    var _ref11 = (0, _asyncToGenerator2.default)(function* (resolve, reject) {\n      console.log(url + \" with params \" + JSON.stringify(params));\n      try {\n        var api = yield createAxios();\n        var res = yield api.delete(url, Object.assign({\n          params: params\n        }, any));\n        yield (0, _handleResponse.HandleSuccessResponse)(res).then(resolve).catch(reject);\n      } catch (error) {\n        yield (0, _handleResponse.HandleErrorResponse)(error).then(resolve).catch(reject);\n      }\n    });\n    return function (_x9, _x10) {\n      return _ref11.apply(this, arguments);\n    };\n  }());\n};\nexports.DELETE = DELETE;","map":{"version":3,"names":["_asyncStorage","_interopRequireDefault","require","_axios","_reactNative","_reactNativeDeviceInfo","_env","_handleResponse","createAxios","_ref","_asyncToGenerator2","default","token","AsyncStorage","getItem","STORAGEKEYS","authToken","os","Platform","OS","os_name","deviceInfoModule","getSystemName","os_version","getSystemVersion","mobile_version","getVersion","mobile_hardware","getHardware","globalConfig","baseURL","ENDPOINT","params","headers","Accept","Authorization","maxContentLength","timeout","Axios","create","apply","arguments","exports","GET","_ref2","url","any","Promise","_ref3","resolve","reject","console","log","JSON","stringify","api","res","get","Object","assign","HandleSuccessResponse","then","catch","error","HandleErrorResponse","_x","_x2","POST","_ref4","body","_ref5","post","_x3","_x4","PUT","_ref6","_ref7","put","_x5","_x6","PATCH","_ref8","_ref9","patch","_x7","_x8","DELETE","_ref10","_ref11","delete","_x9","_x10"],"sources":["/Users/topremitdevice/Documents/alfi/portofolio/Permohonan-IMB-Mobile/src/helper/utils/uri.js"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\nimport Axios from 'axios';\nimport { Platform } from 'react-native';\nimport deviceInfoModule from 'react-native-device-info';\nimport { ENDPOINT, STORAGEKEYS } from '../../env';\nimport { HandleErrorResponse, HandleSuccessResponse } from './handleResponse';\n\nexport const createAxios = async () => {\n  const token = await AsyncStorage.getItem(STORAGEKEYS.authToken);\n  const os = Platform.OS;\n  const os_name = deviceInfoModule.getSystemName();\n  const os_version = deviceInfoModule.getSystemVersion();\n  const mobile_version = deviceInfoModule.getVersion();\n  const mobile_hardware = await deviceInfoModule.getHardware();\n\n  const globalConfig = {\n    baseURL: ENDPOINT,\n    params: {\n      os,\n      os_name,\n      os_version,\n      mobile_version,\n      mobile_hardware,\n    },\n    headers: {Accept: 'application/json', Authorization: `Bearer ${token}`},\n    maxContentLength: 50 * 1000 * 1000,\n    timeout: 60000,\n  };\n\n  return Axios.create(globalConfig);\n};\n\nexport const GET = ({url, params, any}) => {\n  return new Promise(async (resolve, reject) => {\n    console.log(`${url} with params ${JSON.stringify(params)}`);\n    try {\n      const api = await createAxios();\n      const res = await api.get(url, {params, ...any});\n\n      await HandleSuccessResponse(res).then(resolve).catch(reject);\n    } catch (error) {\n      await HandleErrorResponse(error).then(resolve).catch(reject);\n    }\n  });\n};\n\nexport const POST = ({url, body, any}) => {\n  return new Promise(async (resolve, reject) => {\n    console.log(`${url} with body ${JSON.stringify(body)}`);\n    try {\n      const api = await createAxios();\n      const res = await api.post(url, body);\n      await HandleSuccessResponse(res).then(resolve).catch(reject);\n    } catch (error) {\n      await HandleErrorResponse(error).then(resolve).catch(reject);\n    }\n  });\n};\n\nexport const PUT = ({url, body, any}) => {\n  return new Promise(async (resolve, reject) => {\n    console.log(`${url} with body ${JSON.stringify(body)}`);\n    try {\n      const api = await createAxios();\n      const res = await api.put(url, body, any);\n      await HandleSuccessResponse(res).then(resolve).catch(reject);\n    } catch (error) {\n      await HandleErrorResponse(error).then(resolve).catch(reject);\n    }\n  });\n};\nexport const PATCH = ({url, body, any}) => {\n  return new Promise(async (resolve, reject) => {\n    console.log(`${url} with body ${JSON.stringify(body)}`);\n    try {\n      const api = await createAxios();\n      const res = await api.patch(url, body, any);\n      await HandleSuccessResponse(res).then(resolve).catch(reject);\n    } catch (error) {\n      await HandleErrorResponse(error).then(resolve).catch(reject);\n    }\n  });\n};\nexport const DELETE = ({url, params, any}) => {\n  return new Promise(async (resolve, reject) => {\n    console.log(`${url} with params ${JSON.stringify(params)}`);\n    try {\n      const api = await createAxios();\n      const res = await api.delete(url, {params, ...any});\n      await HandleSuccessResponse(res).then(resolve).catch(reject);\n    } catch (error) {\n      await HandleErrorResponse(error).then(resolve).catch(reject);\n    }\n  });\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}